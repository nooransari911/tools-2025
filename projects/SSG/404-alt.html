<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ .Site.Title }} - Page Not Found</title>
    <meta
      name="description"
      content="The page you're looking for couldn't be found. Navigate back to our homepage or explore other sections."
    />

    <!-- Hugo Variables -->
    {{ $errorCode := "404" }} {{ $errorTitle := "Page Not Found" }} {{
    $errorMessage := .Site.Params.existential_comedy }}
    <script>
      // Global variables for JavaScript
      window.ERROR_CODE = "{{ $errorCode }}";
      window.ERROR_TITLE = "{{ $errorTitle }}";
      window.SITE_TITLE = "{{ .Site.Title }}";
      window.HOME_URL = "{{ .Site.BaseURL }}";
    </script>

    <style>
      :root {
        --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        --dark-bg: linear-gradient(
          135deg,
          #0c0c1e 0%,
          #1a1a2e 50%,
          #16213e 100%
        );
        --glass-bg: rgba(30, 41, 59, 0.85);
        --glass-border: rgba(148, 163, 184, 0.1);
        --text-primary: #f8fafc;
        --text-secondary: #cbd5e1;
        --text-muted: rgba(148, 163, 184, 0.6);
        --shadow-glow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          "SF Pro Display",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          "Inter",
          sans-serif;
        background: var(--dark-bg);
        color: var(--text-primary);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        position: relative;
        overflow-x: hidden;
      }

      /* Animated background elements */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
          radial-gradient(
            circle at 15% 50%,
            rgba(102, 126, 234, 0.15) 0%,
            transparent 60%
          ),
          radial-gradient(
            circle at 85% 20%,
            rgba(245, 87, 108, 0.12) 0%,
            transparent 60%
          ),
          radial-gradient(
            circle at 45% 85%,
            rgba(79, 172, 254, 0.12) 0%,
            transparent 60%
          );
        pointer-events: none;
        z-index: -2;
        animation: backgroundShift 20s ease-in-out infinite;
      }

      @keyframes backgroundShift {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
      }

      /* Floating particles */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .particle {
        position: absolute;
        width: 2px;
        height: 2px;
        background: var(--accent-gradient);
        border-radius: 50%;
        animation: float 15s infinite linear;
        opacity: 0.3;
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 0.3;
        }
        90% {
          opacity: 0.3;
        }
        100% {
          transform: translateY(-100vh) rotate(360deg);
          opacity: 0;
        }
      }

      .container {
        background: var(--glass-bg);
        backdrop-filter: blur(30px);
        border: 1px solid var(--glass-border);
        border-radius: 32px;
        padding: 60px 50px;
        width: 100%;
        max-width: 600px;
        box-shadow:
          var(--shadow-glow),
          0 0 0 1px rgba(255, 255, 255, 0.05);
        position: relative;
        transition: var(--transition);
        text-align: center;
      }

      .container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: var(--primary-gradient);
        border-radius: 32px 32px 0 0;
      }

      .container:hover {
        transform: translateY(-4px);
        box-shadow:
          0 35px 70px -12px rgba(0, 0, 0, 0.6),
          0 0 0 1px rgba(255, 255, 255, 0.08);
      }

      .error-code {
        font-size: clamp(4rem, 15vw, 8rem);
        font-weight: 900;
        line-height: 0.9;
        margin-bottom: 24px;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.05em;
        animation: glow 3s ease-in-out infinite alternate;
        position: relative;
      }

      @keyframes glow {
        from {
          filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.3));
        }
        to {
          filter: drop-shadow(0 0 30px rgba(118, 75, 162, 0.4));
        }
      }

      .error-title {
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        font-weight: 700;
        margin-bottom: 16px;
        background: linear-gradient(
          135deg,
          var(--text-primary) 0%,
          var(--text-secondary) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.02em;
      }

      .error-message {
        font-size: 1.125rem;
        color: var(--text-muted);
        margin-bottom: 48px;
        line-height: 1.6;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
      }

      .actions {
        display: flex;
        gap: 16px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn {
        padding: 16px 32px;
        border: none;
        border-radius: 16px;
        font-size: 1rem;
        font-weight: 600;
        text-decoration: none;
        cursor: pointer;
        transition: var(--transition);
        position: relative;
        overflow: hidden;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        min-width: 140px;
        justify-content: center;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.6s ease;
      }

      .btn:hover::before {
        left: 100%;
      }

      .btn-primary {
        background: var(--primary-gradient);
        color: white;
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
      }

      .btn-secondary {
        background: rgba(148, 163, 184, 0.1);
        color: var(--text-secondary);
        border: 1px solid rgba(148, 163, 184, 0.2);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .btn-secondary:hover {
        background: rgba(148, 163, 184, 0.2);
        border-color: rgba(148, 163, 184, 0.3);
        transform: translateY(-2px);
        color: var(--text-primary);
      }

      .btn:active {
        transform: translateY(0);
      }

      /* Search suggestion */
      .search-hint {
        margin-top: 32px;
        padding: 20px;
        border-radius: 16px;
        background: rgba(79, 172, 254, 0.1);
        border: 1px solid rgba(79, 172, 254, 0.2);
        backdrop-filter: blur(10px);
      }

      .search-hint p {
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-bottom: 12px;
      }

      .quick-search {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .search-tag {
        padding: 6px 12px;
        background: rgba(79, 172, 254, 0.2);
        color: #4facfe;
        border-radius: 20px;
        font-size: 0.85rem;
        text-decoration: none;
        transition: var(--transition);
        border: 1px solid rgba(79, 172, 254, 0.3);
      }

      .search-tag:hover {
        background: rgba(79, 172, 254, 0.3);
        transform: translateY(-1px);
        color: #00f2fe;
      }

      /* Mobile responsiveness */
      @media (max-width: 768px) {
        .container {
          padding: 40px 30px;
          margin: 16px;
          border-radius: 24px;
        }

        .actions {
          flex-direction: column;
          align-items: center;
        }

        .btn {
          width: 100%;
          max-width: 280px;
        }

        .quick-search {
          justify-content: center;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 32px 24px;
        }

        .error-message {
          font-size: 1rem;
        }
      }

      /* Focus indicators for accessibility */
      .btn:focus-visible {
        outline: 2px solid #4facfe;
        outline-offset: 4px;
      }

      .search-tag:focus-visible {
        outline: 2px solid #4facfe;
        outline-offset: 2px;
      }

      /* Loading animation for navigation */
      .loading {
        opacity: 0.7;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <!-- Floating particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
      <div class="error-code" id="errorCode">{{ $errorCode }}</div>

      <h1 class="error-title">{{ $errorTitle }}</h1>

      <p class="error-message">{{ $errorMessage }}</p>

      <div class="actions">
        <a href="{{ .Site.BaseURL }}" class="btn btn-primary" id="homeBtn">
          <span>🏠</span>
          Go Home
        </a>
        <button class="btn btn-secondary" onclick="history.back()" id="backBtn">
          <span>←</span>
          Go Back
        </button>
      </div>

      <div class="search-hint">
        <p>Looking for something specific? Try these popular sections:</p>
        <div class="quick-search">
          {{ range .Site.Menus.main }}
          <a href="{{ .URL }}" class="search-tag">{{ .Name }}</a>
          {{ end }} {{ if not .Site.Menus.main }}
          <!-- Fallback links if no menu is defined -->
          <a href="{{ .Site.BaseURL }}blog" class="search-tag">Blog</a>
          <a href="{{ .Site.BaseURL }}about" class="search-tag">About</a>
          <a href="{{ .Site.BaseURL }}contact" class="search-tag">Contact</a>
          {{ end }}
        </div>
      </div>
    </div>

    <script>
      // Create floating particles
      function createParticles() {
        const particlesContainer = document.getElementById("particles");
        const particleCount = 15;

        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";
          particle.style.left = Math.random() * 100 + "%";
          particle.style.animationDelay = Math.random() * 15 + "s";
          particle.style.animationDuration = 15 + Math.random() * 10 + "s";
          particlesContainer.appendChild(particle);
        }
      }

      // Add loading states to navigation buttons
      function addLoadingState(element) {
        element.addEventListener("click", function () {
          this.classList.add("loading");
          // Remove loading state after navigation starts
          setTimeout(() => {
            this.classList.remove("loading");
          }, 1000);
        });
      }

      // Initialize particles and interactions
      document.addEventListener("DOMContentLoaded", function () {
        createParticles();

        // Add loading states to buttons
        const homeBtn = document.getElementById("homeBtn");
        const backBtn = document.getElementById("backBtn");

        if (homeBtn) addLoadingState(homeBtn);
        if (backBtn) addLoadingState(backBtn);

        // Add keyboard navigation
        document.addEventListener("keydown", function (e) {
          if (e.key === "h" || e.key === "H") {
            window.location.href = window.HOME_URL;
          } else if (e.key === "Escape") {
            history.back();
          }
        });

        // Console easter egg
        console.log(
          `%c${window.ERROR_CODE} - ${window.ERROR_TITLE}`,
          "font-size: 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; color: transparent;",
        );
        console.log('🎯 Tip: Press "H" to go home or "Escape" to go back!');
      });

      // Add smooth scroll behavior for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Track 404 errors (if analytics is available)
      if (typeof gtag !== "undefined") {
        gtag("event", "page_view", {
          page_title: window.ERROR_TITLE,
          page_location: window.location.href,
          custom_map: { custom_parameter_1: "error_page" },
        });
      }
    </script>
  </body>
</html>
