So, home assistant user will going to love this video as this video is about a great add-on to your existing home assistant setup to make it more useful. So, that add-on is this e-aper display from seed studio which is controlled by a shower board. And this display will not just work as a regular desk clock, but it can also help you to visualize the current status of all the appliances connected with your Home Assistant server. Plus, it will also let you monitor current sensus data as well. And along with this, you can also add a couple of more widgets of your choice to have a glance over everything on the single display on your desk.

Isn't this a really convenient add-on? Well, I definitely think so. And this video is all about how to integrate this display with an existing home assistant setup. Plus, I'll also be showcasing one really interesting and useful home assistantbased product in between this video. So, do watch out the video till the end.

So, now let us just grab that display and let us discuss the specifications of it. So this is a 7.5 in monool e-aper display panel which has a resolution of 800x480 pixels. Now this is just a panel and to run this we need a separate driver board and luckily seed made a really tiny driver board for this that runs on the shiao board. So here is the e-aper display driver board that has a connector for adding any shiao board like Xiaoi ESP32C3 and later it also got a 24 pin PFC connector in which you can not only insert this 7.5 in but can add almost any e- paper display panels and can make it work. Along with this it also got a battery connector.

So it's quite convenient to make battery powered display project with it. So basically we'll need these all things for today's project. And now let's jump onto our home assistant server and let's learn how to integrate the display. So now for showing the demo here I'm using my Raspberry Pi 4 board acting as the main server. And in this board I have completely set up the home assistant server.

Now in this video I won't be covering the part about how to install home assistant server and configure it. rather I already made a video previously on my channel which shows all the steps to be performed to run a home assistant server on the Raspberry Pi board. So if you don't know how to do that well I recommend you to watch out that video. You can find the link in the description. So once you have your Raspberry Pi board running the home assistant server in it now you need to follow the steps shown in the video right now to make this display work and let us start with the very basic hello world example code. So for that in your home assistant uh uh dashboard you need to go to the settings go to add-ons and here click on add-on store and just search for ESP home.

Okay so you'll find this ESP home device builder just click on it and here you will find the install button. In my case I already installed it so hence it is not showing. After installing you just need to turn on start on boot and show in sidebar and you are good to go. After doing all those steps you will find a new option called as ESP home builder on the left hand side. Just click on it and here you need to click on new device.

Later you need to click on continue. Give the device a name. I will name it as E paper. You can give any name you want. Click on next.

Now here we need to select the board that we are using. Now in my case I'm using the ESP32 Shiao C3 board which I already connected with the Raspberry Pi board acting as a server. Okay. So here I'll select the C3 board and click on skip. So after that you will be finding a new option here called as eaper and once you click on the edit button you'll see a yiml file which will contain all the logic and configurations which will later be uploaded to our ESP C3 board.

Now here to make it work for our e-aper display well we have a very beautiful and detailed article from seed studio itself that shows all the steps to be performed to make it work and in this video I'll be completely following that same article. I'll also provide the link in the description. Okay. So after you uh do all the steps, what you need to do is you just need to get this particular code. Okay.

I'll just copy it and you need to paste it after the captive portal. Okay. So I'll paste it here. Now what this code says, let me guide you. So this code says that we are using this particular built-in font uh for the text to be displayed on the e- paper whose ID is font one and size is 24.

After that we are defining the SPI interface. the GPI pins through which it will communicate with the display. Later we are providing the configurations of the display as well like the platform and the GPI pins for the CS tip select pin and the DC pin. And after that we are also providing the model number of it and update interval. Update interval means after how many how many seconds you want the display to get refreshed. Here it is uh 30 second.

You can change uh you can decrease the time, you can increase the time as well. Okay. And after that this particular line will help us to print the text on our display. And in this in this function the first two parameters are the x and y coordinates like from where do you want to start writing the text. The third parameter is the font which font you need to use.

So we are using the font one which is nothing but this particular font. And uh lastly we need to provide the text to be printed. So that's a very basic hello world example code for this display. Now we'll keep it up to this step and let's see if it is working or not. So to test it out, you just need to click on the install button and here we'll find multiple options about how to upload this code onto the board.

In my case, as I said, I have connected the C3 board with the uh Raspberry Pi acting as a server. I'll select the third option and as here as you can see I got the board appeared here. Select it and it will compile the code and will upload onto the C3 board. So this will definitely take some time. So let's just fast forward this video and show you if it works or not.

Okay. So here the code is successfully uploaded and on the screen we get to see hello world printed on the top left corner of the display. So that was the basic example code on how we can use this e-aper display with the help of the uh home assistant server running on a Raspberry Pi board. And here in the code you can also try changing couple of parameters uh just like the font size like let us change to 124 and later if you uh install it you can see that uh the font size on the display increases significantly. So after this hello world example code let's move ahead and try out something new.

So in this uh seed studio documentation they have provided the next example code to show the shapes onto our display which I'm not going to show in this video. It's pretty simple and straightforward. You can just have a look over it and try it out. Rather I'm more interested in displaying the information uh in home assistant which means that we can fetch the data of any of the widget in home assistant uh that may be the weather widget, calendar widget or maybe our home automation based appliances. uh we can fetch the data of them and then later we can display that information that data onto our e-aper display. So let's just try that out.

So for that we need to add the ESP home as a device and how to do that let me show you. So you need to go to settings then into uh device and services and here you will find one option called as eaper or maybe any other name which you have given to your ESP home. Uh then later you just need to click on the add button and click on submit. Here you can choose any of the room you want to add this device. I'll keep it bedroom.

Skip and finish. And we are good to go. Now we can easily fetch the data of the uh widgets and display it on the display. Let me show you how to do that. So when we look over the uh documentation of this seed studio, they already provided one example code.

Okay. So let's just copy it first and we go we'll go back to the ESP home builder into the eaper. And here I'll paste this code under the captive portal. And now let us try to understand what this code says. So first of all uh the basic thing the font size and uh the type of font we are using.

After that here as you can see we are kind of fetching the weather information by providing the entity ID and also we are providing the attribute whose data we are interested in. So now to find this entity ID and the attribute you first need to go to developer tools and here you need to go to states and here are all the entities or we can say widgets whose data we can fetch and display onto our eaper. So right now we are interested in the weather one. So let us try to search entity as weather. Okay.

So we got it. So first of all the entity ID is nothing but this particular name weather.forome. So you can just copy it and paste it inside your code uh somewhere here. Okay. So this is the entity ID.

Okay. And now you can provide the local ID for this entity ID. So that wherever you want to use the data you can just call my weather and you can use the data. Furthermore uh if you want to fetch the particular data from that uh entity that means we need to provide the attribute of it. Okay.

So how we can find the attribute? You can again go to developer tools into states and here in the weather.forome forecast_h home. These are the attributes. So you can get the data of any of the parameter that you want. For example, if you want the temperature, we can just copy the temperature and inside the code, we can just save the attribute or paste the attribute as temperature.

And here we have provided the ID of this attribute as my temperature. So whenever you want the data of the temperature uh entity, we can just call this ID and print out the data. And similarly, we can pro other attribute as well just like we have added pressure. Okay. And now the question is how we can print this data onto our display.

For that we can just scroll down and here is the logic for printing. So these three lines will help us to print the data onto the log like the terminal window of this home assistant. And this three or these three lines will help us to print the data into our eer display. And the format is pretty simple same as before. First we need to provide the x and y coordinates from where we need to start printing.

Later we need to provide the font. So here we are using this same uh my font id that means this particular font and after that we are printing percentage s that means uh the string and the string is nothing but uh id myweather dot state_ctr this is just for converting into string so we are basically interested in id into the bracket my weather so this will print the my weather status after that it will print my temperature which is nothing but the temperature data stored in this temperature attribute and later we are printing printing ID my pressure which is nothing but the data under pressure attribute. So with this line we can print the realtime data into our EP paper display. So let's just try to save this code and upload it and test if it works or not. So I'll just click on the install button.

Select plug into the computer running ESP home. Select this comp port. And now this will take some time to upload the code. So let me just skip this part and show you the end results. So here as you can see we got the data printed onto our EP display. the weather uh status which partly cloudy.

The temperature 131.3 and the pressure 10003.7 and this is exactly the same data we get to see on our home assistant server as well. So with this we successfully fetch the live data and displayed onto our e-aper display. So with this we have successfully learned how to uh display the text and how to fetch the data from the home assistant widget and again display it onto the e-aper display. And now uh let's move ahead and learn how to display the custom what you can say icons on our display. And with this we'll be uh good to go to build our final project of displaying all the important parameters of home assistant onto our display with couple of custom icons as well.

So now to show the custom icons uh the step is first we need to install one add-on. For that you can go to settings then here into the add-ons and here click on add-on store and here just search for studio code server which is this. Click on it and you just need to install it. In my case, I have already installed. After you just need to enable this show in sidebar and this new option will appear here.

Click on it and here under the ESP home section, you need to just right click here and click on new folder. Give this folder a name as font because here we'll be adding the custom uh font which will support those custom icons. Now, which font we need to add? Well, for that again we'll go to the seed studios uh documentation. Here you need to click to download the fonts required for the icons.

So I successfully downloaded them and here are the two font files. So what you do is you just need to drag and drop them inside the font folder which we have just created. That's it. With this uh we successfully installed the font and now let's see how to display the icons and what kind of icons we can display. For that again go to the seed studios documentation and well here is the complete code.

So let's just try to copy it first and we'll go to the ESP home builder. Click on addit and here I will paste below captive portal and click on save button. Okay. So let us try to understand this particular code. So what we are doing is first of all we are changing the font file.

So here we have uh chosen the oh I did one mistake. Uh the folder name should be fonts. So I'll just go back to studio code server and here I will rename it as fonts. Perfect. Okay.

Now let's go back to our euper display code. And yeah anyways we can do uh here font as well but the whole documentation of seed studio is based on fonts. So let's just keep it fonts to know avoid any kind of confusion. Okay. So anyways we are choosing the font that we have just downloaded.

We are choosing its size and we are giving it as ID. The the large one is of 200 size and the medium one is of size 40. Okay. After that here we have already chosen two different kind of icons. One is called as weather cloudy, one is called as weather hail.

Now how we got the unique ID number of this icons. Well for that again you can go to the uh documentation page from seed and here if you click on uh icon website, this will open up all different kind of icons. Okay. And here if I search for weather hail as you can see we got one icon and here as you can see the code is f0592 and that same code is here f0592 and that's how we can uh get the code of a of the icon and provide that code here and we can display that icon with the help of this font that we have downloaded onto our e-aper display. Okay.

So that's what we are doing. We are defining the code here. Defining the size and ID everything here. And inside the main code under the display section we are printing it by providing X and Y coordinates. Proiding the font uh what we can say ID is it medium or large based upon the size letter the align is center.

Center align and after that we just need to provide the code in this particular format. Okay. And by providing this two lines we can print those two icons onto our display and not those two icons rather we can choose any of the icon that we want by just you know changing the code in the main uh you know yml file. That's pretty much it. Let us try to upload this code and let's see how the icons are being uh displayed onto the display.

So let's click on the install button, plug it and select the comp port and let us skip this part of video and let me show you the final results. So here the code is successfully uploaded and as you can see we got two different icons here. One is with the bigger font size and one is with the smaller font size and those are the custom icons that we got from that particular website. Let me just zoom that second one. So that is the small one and this is the big one.

So yeah that's how you can display any custom icons on this e-aper display. So now after learning how to use this e-aper display with our home assistant, now it's the time to design the final UI of our project. But before that, let me introduce you to one more interesting product that we're going to use for this home assistantbased project. And that product is the six channel relay board based on Xiaoi ESP32 C6 board from seed studio. And I already configured this board with the home assistant platform.

And with this I can easily control up to six appliances using the dashboard. And not only that, I have also attached this temperature sensor to it so that I can visualize the live temperature data as well. So as I said, this product is already configured with the home assistant platform via ESP home. And I kind of made a couple of videos about how to integrate the ESP board with home assistant to do home automation. I didn't made any specific video about this product and about the Xiao ESP32C6.

So in case if you want to learn how to integrate this product with home assistant, well you can drop uh down your uh request in the comment section based upon the majority request. I'll think about making a separate video for it. But yeah anyways now the thing is we do have all the data ready and now we need to design the final UI to be displayed on the screen. And now if we talk about the data to be displayed then I'm thinking of to add the data like current time current date then live status of all the appliances along with the live temperature sensus data and I'm also thinking of to add the current weather status or couple of parameters of the weather status in my own city. So these all data points I want to put up on the e-aper display.

So now let's try to write the code for it. So firstly we looked for the entity ID for the appliances and the sensors connected with home assistant and later we embedded it in the main YML file. After that we started with designing the UI for it and we tried with couple different UI until we landed on this final UI version. Well this UI seems perfect as it displays all the data in proper arranged format. So after finalizing the UI, we got the 3D design file for this display from the seed studios website and gave it for printing.

And till the print comes, let me show you a couple of important lines in the YML file which you need to take care to integrate your Home Assistant base appliances data onto the display. Let me show you. Okay. Okay, so here is the final YML file of our home assistant display and I will let you know the important things which you need to take care or which you need to change to make it work on your end as well. So first thing is you need to provide the SIN name and password of your Wi-Fi router.

Provide the same Wi-Fi routers credential where the home assistant server is running because everything is under local connection only. After that the important thing is the entity ID. Okay. So uh as this project uh contains the live status of the appliances and the sensor as well connected to a different home assistant device. So to get the data onto our display we need to provide the entity ID.

For example uh we are displaying the status of relays. Okay. So for that we need to provide this entity ID. In my case it is switch relay_re_1. In your case it may be different based upon the name you have given to that device.

And how to find this uh entity ID? Well, for that you can go to the developer tools then into states and here you need to search for the relay. Uh in my case it is here. So when you click on it uh you will find this entity ID switch relay_1. You can just copy from here and you can go back to your main yiml file and you can simply paste that entity ID here and make sure the entity ID should match or should be proper otherwise you won't get the data on the display.

Similarly, I provided for relay 2 up to relay 6. Eventually, we are displaying only four relay status on the uh display as we have a four bulb setup available. So, yeah, we are displaying up to four only, but you can go up to six or maybe n number of relays as well based upon your device. Okay, so this is the one. Second thing is we also displaying the temperature sensors data which is mentioned here and here the entity ID is this.

So again to find this entity ID you can go to developer tools into states and just search for that sensor. I just search for sensor in case if I find it. Uh okay here is my sensor. So I'll click on it and uh here is the entity ID. So I'll just copy it from here.

Go back to my main YML file and I can simply paste that ID here. So these are the entity ids you need to take care. And similarly we have the entity ID for weather calendar everything. But I think it should be same for all the other home assistant user. In case if it's different, you can just change them.

Yeah. So entity ID is the most important thing to display the data of any widget you have. Other than that, the code is pretty much uh the same as we have discussed before like getting the uh icons and displaying it with the proper what you can say X and Y axis and size and everything. So pretty much everything is same. I'll be providing this YML file for your reference.

So it's not an issue. So I will save it and later I'll just install it into my home assistantbased display which is connected at the port zero until the code gets uploaded. Let us try to assemble the 3D printed parts. So here is the 3D printed case for the display. And when we started assembling the hardware, we found that the belt of the screen is too short for this and we need to get a new and longer belt to fit in this case.

But as we were running out of time for publishing this video, we thought to do some regard for this. So we took a new shower board and letter. We started shouldering the jumper wires on all the legs and letter. We did the same on the e-aper driver board as well. And after soldering, we thought to test it first to see if this works or not as we already installed the code in it and it kind of worked.

So later we fixed the shout board at the proper spot with the hot glue and did the same for the driver board as well. It was definitely not that easy but we somehow managed to do that. Later we inserted the belt of the screen and finally put the cover on it and added the screws from the back. And with this our home assistant display is ready to be used. So as we can see it is showing the current date and time along with the live temperature of the room and some weather parameters of my city Ahmedabad.

And it also shows the data of appliances on it. But as the display is updated after every minute, we are able to visualize the status as well after every minute. And likewise, you can add data of any widget of Home Assistant and can visualize live on the screen. A perfect desk clock for all the Home Assistant lovers. Well, do hit the like button right now if you really love this project.

And as usual, I'll be linking away the link of all the products shown in this video down in the description of this video so that you can check it out and you can buy if you want to. And also I'll be providing the YML file for this project in the description so that you can take that uh code as a reference to build your own code on it. And that's pretty much it about today's video. And now I'm just ending this video here. And now just wait for my next video.

Until then, explore, learn, share with me, Techie SMS. [Music]